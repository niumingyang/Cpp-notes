# NJU高级程序设计 homework(不含编程题)

[toc]

## 第一次作业
**1. 简述面向对象程序设计中类和对象的概念，并说明它们之间的关系。**
- 类是现实世界或思维世界中的实体在计算机中的反映，它将数据以及这些数据上的操作封装在一起。 
- 对象是具有类类型的变量。 
- 类是对象的抽象，而对象是类的具体实例。类是抽象的，不占用内存，而对象是具体的，占用存储空间。

**2. 与面向过程的程序设计相比，面向对象的程序设计有哪些优势？**
- 以数据为中心，强调数据抽象，操作依附于数据； 
- 实现了数据的封装，加强了数据的保护； 
- 模块边界清晰； 
- 对象往往具有通用性，使得程序容易复用；
- 对象相对稳定，有利于程序维护； 
- 基于对象/类的解题方式与问题空间有很好的对应。

**3. 在C++的类定义中，访问控制修饰符有哪些？简述不同访问控制修饰符对类成员的访问限制。**
- 访问控制修饰符有public，private和protected; 
- public：访问不受限制；
private：只能在本类和友元的代码中访问；
protected：只能在本类、派生类和友元的代码中访问。

## 第二次作业
**1. C++的成员对象是什么？当创建包含成员对象的类的对象时，构造函数和析构函数函数的调用顺序时什么样的？**
- 成员对象:当一个类的成员是另一个类的对象时，这个对象就叫成员对象。 
- 一个有成员对象的类实例化时要先调用成员对象的构造函数，然后再调用该类的构造函数;析构函数反之，先调用该类的析构函数，再调用成员对象的析构函数。

**2. 在什么情况下会调用拷贝构造函数？什么时候需要自定义拷贝构造函数？**
- 通过使用另一个同类型的对象来初始化新创建的对象时; 把对象作为值参数传给函数时; 把对象作为函数的返回值时; 
- 在对含有指针成员的对象进行拷贝时，必须要自己定义拷贝构造函数，进行深拷贝;如果不自己定义拷贝构造函数，会造成调用一次构造函数，调用两次析构函数的情况，即指针被分配一次内存，但是程序结束时该内存却被释放了两次，会导致程序崩溃。

## 第三次作业
**1. C++中什么情况下会调用拷贝构造函数？使用默认的拷贝构造函数时有什么需要特别注意的情况，请举例说明。**
- 当创建一个对象时，如果用一个同类型的对象对它进行初始化，则会调用拷贝构造函数。 
- 当有指针类的数据成员时，如果对一个对象a1操作之后修改了这块空间的内容，则另一个对象a2将会受到影响。如果不是设计者特意所为，这将是一个隐藏的错误。当对象a1和a2消亡时，将会分别去调用它们的析构函数，这会使得同一块内存区域将被归还两次，从而导致程序运行异常。

**2. 对象间数据共享时会用到全局变量或静态数据成员，请简述这两种方式的优缺点。**
- 采用全局变量的优点是定义和使用比较方便，缺点是共享数据与对象之间缺乏显式的联系和数据缺乏保护； 
- 采用静态数据成员的优点是共享数据与对象之前有显式的联系和数据有保护，缺点是定义和使用比全局变量复杂。

**3. 简述C++中友元的特性以及它的利弊。**
- 特性： 
a) 友元关系具有不对称性。例如：假设B是A的友元，如果没有显式指出A是B的友元，则 A不是B的友元。 
b) 友元不具有传递性。例如：假设B是A的友元、 C是B的友元，如果没有显式指出C是A的友元，则C不是A的友元。 
c) 友元是数据保护和数据访问效率之间的一种折衷方案。 
- 优点： 
a) 实现类之间的数据共享，减少系统开销，提高效率； 
b) 使得其它的类成员函数可以直接访问该类的私有变量 。 
- 缺点： 
友元函数破坏了封装机制，尽量不要使用 。

## 第四次作业
**1. 请简述C++中继承的概念，并说明使用继承的动机和优势。**
- 继承的概念:对一个面向对象的程序，在定义一个新的类时，先把已有程序中的一个或多个类的功 能全部包含进来，然后在新的类中再给出新功能的定义或对已有类的某些功能重新定义，就叫做继承 
- 继承的优点:
a) 支持软件复用
b) 对事物按层次进行分类
c) 对概念进行组合
d) 支持软件的增量开发

**2. C++存在哪些继承方式？请列举不同的继承方式下，派生类对基类数据成员的访问权限。**
- 两种继承方式:单继承和多继承 
- a) 基类成员的private都不可以直接访问;
b) 基类中public的根据派生类的继承方式对外表示的访问控制就是什么;
c) 基类成员的protected中的成员派生类可以访问，如果派生类是public继承和 protected继承，那么仍然是protected;如果是private继承，那么是private的类型。

## 第五次作业
**1. 派生类不包含基类的那些成员？**
- 基类的构造函数、赋值操作符重载函数和析构函数

**2. 请简述派生类对象的初始化和析构顺序。**
- 当创建派生类的对象时，先执行基类的构造函数，再执行派生类构造函数； 
- 当析构派生类的对象时，先执行派生类的析构函数，再执行基类析构函数； 
- 如类D既有基类B、又有成员对象类M，则在创建D类对象时，构造函数的执行次序为：B--&gt;M--&gt;D； 
- 当D类的对象消亡时，析构函数的执行次序为：D--&gt;M--&gt;B；

**3. 请简述转移构造函数和转移赋值操作符重载函数的作用。**
- 当用一个临时或即将消亡的对象去初始化另一个同类的对象时，目前的拷贝构造函数的实现效率有时是不高的。用转移构造函数来解决这个问题。 
- 当用于赋值的对象是一个临时或即将消亡的对象时，目前的赋值操作符重载函数的实现效率有时是不高的。用转移赋值操作符重载函数可以解决这个问题。

## 第六次作业
**1. 请简述单继承、多继承的概念。**
- 单继承:一个派生类只有一个直接基类的继承方式。 
- 多继承:一个派生类有一个以上的直接基类的继承方式。

**2. 说明CPP的代码复用中，多继承和聚集有什么差异？**
- 继承:C++面向对象的代码复用中，采用继承的方式定义一个新的类时，先把已有程序中的一个或多个类的功能全部包含进来复用，然后再给出新功能的定义或对已有类的某些功能重新定义，这两个类通常属 于一般与特殊的关系(is-a-kind-of)。 
- 聚集:通过聚集(也称聚合)实现代码复用的方式，是把一个类作为另一个类(新类)的成员对象类， 这两个类之间通常属于整体与部分的关系(is-a-part-of)。

**3. 什么是虚基类？为什么需要虚基类？**
- 如果一个派生类是通过多继承从多个基类派生出来的，而这些基类又有一个共同的基类，则在这个派生类中访问这个共同的基类中的成员时，会产生二义性，即名冲突问题。为了解决这种二义性，C++引人了虚基类。

## 第七次作业
**1. 请简述操作符重载的基本原则。**
- 只能重载C++语言中已有的操作符，不可臆造新的操作符。可以重载C++中除下列操作符外的所有操作符：“. ”， “.* ”，“?: ”，“:: ”，“sizeof ”； 
- 遵循已有操作符的语法: 不能改变操作数个数；不改变原操作符的优先级和结合性； 
- 尽量遵循已有操作符原来的语义。

**2. 操作符重载有哪些实现方式？**
- 作为一个类的非静态的成员函数； 
- 作为一个全局（友元）函数。

**3. 简述单目运算符（++，--）前置重载和后置重载的区别。**
- 重载++（--）时，如果没有特殊处理，它们的后置用法和前置用法共用同一个重载函数。 
- 为了能够区分++（--）的前置与后置用法，可为它们再写一个重载函数用于实现它们的后置用法，该重载函数应有一个形式上的`int`型参数。

## 第八次作业
**1. 为什么需要重载“=”操作符？和拷贝构造函数有什么差别？**
- 对类的对象进行赋值操作。当对象进行赋值时会默认调用系统隐型的赋值操作，当对指针类型数据成员进行赋值后，对象的内存释放会冲突。 
- 拷贝构造函数为系统初始化对象时使用，是一种特殊的构造函数。 

**2. CPP为什么需要重载`new`和`delete`？**
- 系统默认的`new`和`delete`的操作通过系统的堆空间管理进行，效率不高。当需要大量频繁分配释放操作时，需要通过自定义的方式进行。

## 第九次作业
**1. 请简述类属函数和类属类。它们都有哪些实现方式？**
- 类属函数是指一个函数能对不同类型的参数完成相同的操作； 
- 如果一个类的成员的类型可变，则该类称为类属类； 
- 类属函数的实现方式有：
a) 采用通用指针类型的参数；
b) 函数模板 
- 类属类用类模版实现。

**2. 在类模版中使用静态成员有什么要注意的地方？**
- 类模板中的静态成员仅属于实例化后的类（模板类），不同类模板实例之间不共享类模板中的静态成员。

**3. 为什么通常情况下，类模板的定义和实现都放在头文件中？**
-  实例化时，不但要看到模板的声明，还要看到模板的定义。否则无法实例化。

## 第十次作业
**1. 请简述CPP中流式文件的概念。**
- 在CPP中将文件视为一系列字节形成的字符串，对文件数据的操作通常被视为逐个对字节顺序进行，因此叫流式文件。

**2. 请描述`throw` `try` `catch`语句的作用。**
- `throw`语句块负责发现异常时抛出异常对象； 
- `try`语句块负责启动异常处理机制 
- `catch`语句用于捕获throw抛出的异常对象并依据对象类型进行具体操作。

**3. 请简述CPP断言`assertion`的作用。**
- 断言是一种逻辑表达式，他描述了程序到断言处需要满足的条件，不满足会被终止程序。

## 第十一次作业
**1. STL主要包含了什么？**
- 容器类模版：存储序列化的数据元素 
- 算法模版： 对容器内的数据进行操作 
- 迭代器类模版：实现抽象的指针用于指向容器元素

**2. 简述自定义操作的概念和作用。**
- 有些算法要求使用者提供一个函数或者函数对象作为自定义的操作条件。其参数和返回值由具体算法决定。

**3. 迭代器具体分为几类？他们有什么差异？**
- 输出迭代器、输入迭代器：用于修改指向元素（元素间接访问） 
- 前向迭代器、双向迭代器：可以读取修改指向元素（元素间接访问和元素成员访问） 
- 随机访问迭代器：可以修改读取元素（元素间接访问和元素成员访问以及随机访问元素）

## 第十二次作业
**1. 什么是消息驱动的程序结构？请列举3种Windows的消息。**
- 在消息驱动的程序结构中，程序的任何一个动作都是在接收到一条消息后发生的。 
- Windows的消息：
`WM_KEYDOWN/WM_KEYUP`（键盘按键）；
`WM_CHAR`（字符）；
`WM_LBUTTONDOWN/WM_LBUTTONUP/WM_LBUTTONDBLCLK/WM_MOUSEMOVE`（鼠标按键）。

**2. 请简述Windows应用程序的执行过程。**
- Windows应用程序不断地从自己的消息队列中获取消息并调用相应窗口的消息处理函数来处理获得的消息。 这个“取消息-处理消息”的过程构成了消息循环。 当取到某个特定消息（`WM_QUIT`）后，消息循环结束。

**3. MFC提供的主要类有哪些？**
- 窗口类；
- 文档类；
- 应用框架类；
- 绘图类；
- 文件输入/输出类；
- 常用数据类型类

**4. “文档－视“结构是什么？有什么作用？**
- 文档：用于存储和管理程序中的数据。
- 视：用于显示文档数据以及实现对文档数据进行操作时与用户的交互功能。
- 文档与视一起可以实现：数据的内部存储形式和数据的外部表现形式相互独立；一个文档对象对应一个或多个视对象，即，对于同一个文档数据可以用不同的方式进行显示和操作。

**5. 请简述函数式程序设计和逻辑式程序设计。**
- 函数式程序设计：基于的理论是递归函数理论和lambda演算。程序由一组数学函数构成，计算过程体现为一系列的函数应用（把函数作用于数据）。函数也被作为值（数据）来看待，即函数的参数和返回值也可以是函数。 
- 逻辑式程序设计：基于的理论是谓词演算。程序由一组事实和一组推理规则构成，在事实基础上运用推理规则来实施计算。

**6. 请列举一些函数式程序设计中几个常用的技术。**
- 递归：用递归实现重复操作，不采用迭代方式。 
- 尾递归：递归调用是递归函数的最后一步操作，编译可优化之。 
- map/reduce（映射/规约）：对一个集合中的元素做映射和规约操作。 
- currying（柯里化）：把接受多个参数的函数变换成接受单一参数（原函数的第一个参数）的函数，该函数返回一个接收剩余参数的函数。